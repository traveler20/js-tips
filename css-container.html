<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<style>
			main {
				display: grid;
				justify-items: center;
				margin-top: 10px;
			}
			main .pic,
			main img {
				border-radius: 20px;
			}
			main .pic-wrapper {
				margin: 10px;
				max-width: 90vw;
			}
			article {
				border-radius: 10px;
				border: 2px solid;
				padding: 0 20px;
				margin: 10px;
				background: #fff;
				transition: box-shadow 0.4s ease-in-out 0s,
					background-color 0.4s ease-in-out 0s;
			}
			.dark-mode article {
				background: #2e3440;
			}
		</style>
		<main>
			<div style="margin-bottom: 30px">
				<p style="text-align: center">
					Click these button to change the card size, or<br />drag the bottom
					right corner of the card to change its size.
				</p>
				<div
					style="
						display: flex;
						flex-wrap: wrap;
						justify-content: center;
						gap: 6px;
					"
				>
					<button data-size="300px">Container = 300px</button>
					<button data-size="500px">Container = 500px</button>
					<button data-size="700px">Container = 700px</button>
					<button data-size="90vw">Container = 90vw</button>
					<button data-size="auto">Container = auto</button>
				</div>
			</div>
			<article class="card">
				<div class="card__content">
					<h1>Espresso</h1>
					<img src="https://jec.fyi/assets/img/demo/cof-espresso.jpg" />
					<p>
						Espresso is the name of a highly concentrated, bittersweet coffee
						originating in Italy in the early 20th century. Each shot of
						espresso is made to order upon customer request, as opposed to being
						brewed in anticipation of demand.
					</p>
					<a href="http://coffee.com/mocha">Learn more</a>
				</div>
			</article>
			<script>
				document.querySelectorAll("button").forEach((e) => {
					e.addEventListener("click", () => {
						document.querySelector("article.card").style.width = e.dataset.size;
					});
				});
			</script>
			<style>
				.card__content a {
					border-bottom: initial;
					text-decoration: underline;
				}
				.card__content img {
					width: 100%;
				}
				.card__content h1 {
					padding: 0;
				}
				.card {
					resize: horizontal;
					overflow: auto;
					min-width: 300px;
					max-width: 900px;
					container-type: inline-size;
					padding-bottom: 0.83em;
				}

				.card__content p {
					display: none;
				}

				.card__content a {
					padding-block: 10px;
				}

				@container (inline-size > 400px) {
					.card__content p {
						display: block;
					}
				}

				@container (inline-size > 600px) {
					.card__content p,
					.card__content a {
						margin-left: 20px;
					}

					.card__content {
						display: grid;
						grid-template-columns: 280px auto;
					}

					.card__content h1 {
						grid-column: 1/3;
					}

					.card__content img {
						grid-row: 2/4;
					}
				}
			</style>
		</main>
	</body>
</html>
