<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="UTF-8" />
		<title>Scroll Animation Sample Pin</title>
		<style></style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js"></script>
	</head>
	<body>
		<section class="top">
			<div class="top_title">
				<span class="top_title_innerLeft">Hello</span
				><span class="top_title_innerRight">World</span>
			</div>
		</section>
		<section class="section js-section-card">
			<article class="article">
				<img
					class="article_image"
					src="https://picsum.photos/seed/80/1200/900"
					alt=""
				/>
				<p class="article_text">
					サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。サンプルテキスト。
				</p>
			</article>
		</section>
		<section class="cardSection">
			<div class="cards_wrapper">
				<ul class="cards">
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/1/300/400"
							alt=""
						/>
						<p class="singleCard_text">01</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/2/300/400"
							alt=""
						/>
						<p class="singleCard_text">02</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/3/300/400"
							alt=""
						/>
						<p class="singleCard_text">03</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/4/300/400"
							alt=""
						/>
						<p class="singleCard_text">04</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/5/300/400"
							alt=""
						/>
						<p class="singleCard_text">05</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/6/300/400"
							alt=""
						/>
						<p class="singleCard_text">06</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/7/300/400"
							alt=""
						/>
						<p class="singleCard_text">07</p>
					</li>
					<li class="singleCard">
						<img
							class="singleCard_image"
							src="https://picsum.photos/seed/8/300/400"
							alt=""
						/>
						<p class="singleCard_text">08</p>
					</li>
				</ul>
			</div>
		</section>
		<section class="bottom"></section>
		<script defer>
			gsap.registerPlugin(ScrollTrigger);

			// キービジュアル
			const topTl = gsap.timeline({
				scrollTrigger: {
					trigger: ".top",
					start: "top top",
					end: "+=900",
					scrub: true,
					pin: true,
				},
			});
			topTl.fromTo(
				".top_title",
				{
					opacity: 0,
					scale: 0.2,
				},
				{ opacity: 1, scale: 1, ease: "Power4.out" }
			);
			topTl.to(".top_title_innerLeft", {
				x: -innerWidth / 2,
			});
			topTl.to(
				".top_title_innerRight",
				{
					x: innerWidth / 2,
				},
				"<"
			);

			// 説明コンテンツ

			ScrollTrigger.create({
				trigger: ".article_image",
				start: "top 80",
				endTrigger: ".article_text",
				end: `center 40%`,
				pin: true,
				pinSpacing: false,
			});

			// カード
			const cardTl = gsap.timeline({
				scrollTrigger: {
					trigger: ".cardSection",
					start: "top top",
					pin: true,
					end: `+=${innerHeight}`,
					scrub: 0.5,
				},
			});

			const target = document.querySelector(".cards");
			cardTl.to(target, {
				delay: 0.1,
				x: -target.clientWidth + innerWidth - 120,
				ease: "none",
			});

			window.addEventListener("load", () => {
				ScrollTrigger.refresh();
			});
		</script>
		<style>
			@import url("https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap");
			* {
				margin: 0;
				padding: 0;
			}

			li {
				list-style: none;
			}

			body {
				background: #333333;
			}

			.top {
				width: 100%;
				height: 100vh;
				background: url("https://picsum.photos/id/1021/1920/1200") no-repeat;
				display: flex;
				justify-content: center;
				align-items: center;
				overflow: hidden;
			}
			.top_title {
				font-size: 120px;
				color: #fff;
				font-family: "EB Garamond", serif;
			}
			.top_title_innerLeft,
			.top_title_innerRight {
				display: inline-block;
			}

			.cards {
				display: inline-flex;
				gap: 150px;
			}
			.cards_wrapper {
				max-width: 100%;
				padding: 0 50px;
				overflow: hidden;
			}

			.singleCard {
				position: relative;
			}
			.singleCard_image {
				width: 300px;
				height: 400px;
			}
			.singleCard_text {
				position: absolute;
				bottom: 10px;
				right: -8%;
				font-size: 80px;
				font-weight: bold;
				color: #ffffff;
				text-shadow: 0 2px 3px rgba(0, 0, 0, 0.18);
			}

			.section {
				padding: 80px 50px;
				min-height: 150vh;
			}

			.cardSection {
				min-height: 100vh;
				display: flex;
				align-items: center;
			}

			.article {
				position: relative;
				width: 100%;
				margin-bottom: 150px;
			}
			.article_image {
				display: block;
				width: 70%;
				height: auto;
				transform-origin: left top;
				border-radius: 12px;
				border: 10px solid #ffffff;
				box-sizing: border-box;
				margin-bottom: 100px;
			}
			.article_text {
				position: relative;
				width: 40%;
				color: #f4f4f4;
				font-size: 18px;
				line-height: 1.8;
				margin-left: auto;
				z-index: 2;
				background: rgba(0, 0, 0, 0.9);
				padding: 20px;
			}

			/*# sourceMappingURL=style_03.css.map */
		</style>
	</body>
</html>
